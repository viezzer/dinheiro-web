{"ast":null,"code":"import{useState,useEffect}from'react';import Switch from'./SwitchDemo';import styles from'./NewTransactionForm.module.css';import{v4 as uuidv4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const currentDate=new Date().toISOString().split('T')[0];function NewTransactionForm(_ref){let{reloadTransactionsFromChildreen}=_ref;const[isIncome,setIsIncome]=useState(true);const[title,setTitle]=useState('');const[amount,setAmount]=useState('');const[date,setDate]=useState(currentDate);const[titlePlaceholder,setTitlePlaceholder]=useState('Salário, Serviço Prestado, etc...');function formValidate(){if(title.trim()<3){alert(\"Nome da transação deve conter no mínimo 3 caracteres.\");return false;}else{if(amount<=0){alert(\"Valor da transação inválido.\");return false;}else{return true;}}}function createTransaction(e){e.preventDefault();if(formValidate()){const newTransaction={\"id\":uuidv4(),\"categorie\":\"\",\"title\":title,\"amount\":isIncome?amount:-amount,\"date\":date};// Get existing transactions from local storage or initialize an empty array\nconst existingTransactions=JSON.parse(localStorage.getItem('transactions'))||[];// Add the new transaction to the array\nexistingTransactions.push(newTransaction);// Save the updated transactions array back to local storage\nlocalStorage.setItem('transactions',JSON.stringify(existingTransactions));setTitle(\"\");setAmount(\"\");reloadTransactionsFromChildreen();}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Nova transa\\xE7\\xE3o\"}),/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:createTransaction,children:[/*#__PURE__*/_jsx(\"label\",{className:styles.label,children:\"Tipo da transa\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Receita para valor que entrou na sua conta. Despesa para valor que saiu da sua conta. \"}),/*#__PURE__*/_jsx(\"div\",{className:styles.switchDiv,children:/*#__PURE__*/_jsx(Switch,{setIsIncome:setIsIncome,setTitlePlaceholder:setTitlePlaceholder,isIncome:isIncome})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:styles.label,children:\"Nome\"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",name:\"title\",className:styles.inputText,type:\"text\",placeholder:titlePlaceholder,onChange:e=>setTitle(e.target.value),value:title}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",className:styles.label,children:\"Valor\"}),/*#__PURE__*/_jsx(\"input\",{id:\"amount\",name:\"amount\",className:styles.inputText,type:\"number\",placeholder:\"0.00\",onChange:e=>setAmount(e.target.value),value:amount}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:styles.label,children:\"Data da transa\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"input\",{id:\"date\",name:\"date\",className:styles.inputText,type:\"date\",onChange:e=>setDate(e.target.value),value:date}),/*#__PURE__*/_jsx(\"input\",{className:styles.inputSubmit,type:\"submit\"})]})]});}export default NewTransactionForm;","map":{"version":3,"names":["useState","useEffect","Switch","styles","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","currentDate","Date","toISOString","split","NewTransactionForm","_ref","reloadTransactionsFromChildreen","isIncome","setIsIncome","title","setTitle","amount","setAmount","date","setDate","titlePlaceholder","setTitlePlaceholder","formValidate","trim","alert","createTransaction","e","preventDefault","newTransaction","existingTransactions","JSON","parse","localStorage","getItem","push","setItem","stringify","children","className","form","onSubmit","label","switchDiv","htmlFor","id","name","inputText","type","placeholder","onChange","target","value","inputSubmit"],"sources":["C:/Users/eduvi/Documents/GitHubProjects/dinheiro-web/src/components/NewTransactionForm.js"],"sourcesContent":["import {useState, useEffect} from 'react'\r\nimport Switch from './SwitchDemo';\r\nimport styles from './NewTransactionForm.module.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst currentDate = new Date().toISOString().split('T')[0];\r\n\r\nfunction NewTransactionForm({reloadTransactionsFromChildreen}) {\r\n    const [isIncome, setIsIncome] = useState(true) \r\n    const [title, setTitle] = useState('')\r\n    const [amount, setAmount] = useState('')\r\n    const [date, setDate] = useState(currentDate)\r\n    const [titlePlaceholder, setTitlePlaceholder] = useState('Salário, Serviço Prestado, etc...')\r\n\r\n    function formValidate() {\r\n        if(title.trim() < 3) {\r\n            alert(\"Nome da transação deve conter no mínimo 3 caracteres.\")\r\n            return false\r\n        } else {\r\n            if(amount <= 0) {\r\n                alert(\"Valor da transação inválido.\")\r\n                return false\r\n            } else {\r\n                return true\r\n            }\r\n        }\r\n    }\r\n\r\n    function createTransaction(e) {\r\n        e.preventDefault();\r\n    \r\n        if (formValidate()) {\r\n            const newTransaction = {\r\n                \"id\": uuidv4(),\r\n                \"categorie\": \"\",\r\n                \"title\": title,\r\n                \"amount\": isIncome ? amount : -amount,\r\n                \"date\": date\r\n            };\r\n    \r\n            // Get existing transactions from local storage or initialize an empty array\r\n            const existingTransactions = JSON.parse(localStorage.getItem('transactions')) || [];\r\n    \r\n            // Add the new transaction to the array\r\n            existingTransactions.push(newTransaction);\r\n    \r\n            // Save the updated transactions array back to local storage\r\n            localStorage.setItem('transactions', JSON.stringify(existingTransactions));\r\n    \r\n            setTitle(\"\");\r\n            setAmount(\"\");\r\n            reloadTransactionsFromChildreen();\r\n        }\r\n    }\r\n    \r\n\r\n    return (\r\n        <>\r\n            <h2>Nova transação</h2>\r\n            <form className={styles.form} onSubmit={createTransaction}>\r\n                <label className={styles.label}>Tipo da transação</label>\r\n                <small>Receita para valor que entrou na sua conta. Despesa para valor que saiu da sua conta. </small>\r\n                <div className={styles.switchDiv}>\r\n                    <Switch \r\n                        setIsIncome={setIsIncome} \r\n                        setTitlePlaceholder={setTitlePlaceholder} \r\n                        isIncome={isIncome}/>\r\n                </div>\r\n                \r\n                <label htmlFor='title' className={styles.label}>Nome</label>\r\n                <input \r\n                    id='title'\r\n                    name=\"title\"\r\n                    className={styles.inputText} \r\n                    type=\"text\" \r\n                    placeholder={titlePlaceholder}\r\n                    onChange={(e) => setTitle(e.target.value)}\r\n                    value={title}\r\n                />\r\n                <label htmlFor='amount' className={styles.label}>Valor</label>\r\n                <input \r\n                    id='amount'\r\n                    name='amount'\r\n                    className={styles.inputText} \r\n                    type=\"number\" \r\n                    placeholder=\"0.00\"\r\n                    onChange={(e) => setAmount(e.target.value)}\r\n                    value={amount}    \r\n                />\r\n                <label htmlFor='date' className={styles.label}>Data da transação</label>\r\n                <input \r\n                    id='date'\r\n                    name='date'\r\n                    className={styles.inputText}\r\n                    type='date'\r\n                    onChange={(e) => setDate(e.target.value)}\r\n                    value={date}\r\n                />\r\n\r\n                <input className={styles.inputSubmit} type='submit'></input>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NewTransactionForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}